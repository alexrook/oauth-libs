
###Prerequisites

#### create file 'local.properties'

To run this project 
you need create 'local.properties' file
with next data:

google.oauth.clientId=<your-google-app-clientID>
google.oauth.clientSecret=<your-google-app-clientSedret>
google.oauth.redirectUri=http://localhost:8080/oul/rest/ggl/callback
google.oauth.revokeUri=https://accounts.google.com/o/oauth2/revoke
google.oauth.scope=profile email
google.oauth.responseType=code
google.api.profileUri=https://www.googleapis.com/plus/v1/people/me


####Setup http BASIC auth on JBoss

To work with 'restricted area'   with BASIC Auth (rfc2617)  on jboss 7.1.1

run script
    <JBOSS_HOME>/bin/add_user.sh
and 
    add 'Application User' to 'ApplicationRealm'  with role 'users'.
    now try to get url http://localhost:8080/oul/restricted/secret.html

####Setup http DIGEST auth on JBoss

To work with 'restricted area' with DIGEST Auth (rfc2617)  on jboss 7.1.1

add security domain to server config:
<security-domain name="appdom" cache-type="default">
    <authentication>
        <login-module code="UsersRoles" flag="required">
            <module-option name="hashAlgorithm" value="MD5"/>
	    <module-option name="hashEncoding" value="RFC2617"/>
            <module-option name="hashUserPassword" value="false"/>
            <module-option name="hashStorePassword" value="true"/>
            <module-option name="passwordIsA1Hash" value="true"/>
            <module-option name="storeDigestCallback" 
		value="org.jboss.security.auth.callback.RFC2617Digest"/>
        </login-module>
    </authentication>
</security-domain>

add users.properties to application classpath
with content:
<username>=<hashed-password>
to hash user password run
java -cp ${JBOSS_HOME}/modules/<...>/picketbox-4.0.7.Final.jar 
    org.jboss.security.auth.callback.RFC2617Digest <username> appdom <password>

add roles.properties to application classpath
with content:
<username>=users

see more: https://developer.jboss.org/message/744521
	  https://developer.jboss.org/wiki/UsersRolesLoginModule
	  http://picketbox.jboss.org/







